(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6858d0a2"],{"2c08":function(t,e,n){},"5c9d":function(t,e,n){"use strict";n("80b5")},"78d8":function(t,e,n){"use strict";n("b8a1")},"80b5":function(t,e,n){},b8a1:function(t,e,n){},bb51:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CategoryNavBar"),n("Scroll",{ref:"scrollLeft",staticClass:"cate-box"},[n("CateBox",{attrs:{category:t.category},on:{loaded:t.leftLoaded,indexChange:t.indexChange}})],1),n("Scroll",{ref:"scrollRight",staticClass:"items-box"},[n("GoodsList",{attrs:{goods:t.currentCate}})],1)],1)},r=[],c=n("5d17"),o=n("6d71"),i=n("89ee"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("NavBar",{staticClass:"category-nav-bar"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("宝贝分类")])])},u=[],l=n("a7ac"),d={name:"CategoryNavBar",components:{NavBar:l["a"]}},f=d,h=(n("e2af"),n("2877")),g=Object(h["a"])(f,s,u,!1,null,"c3ee7bf2",null),v=g.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.category,(function(e,a){return n("div",{key:a,staticClass:"cate-item",class:{active:t.isActive(a)},on:{click:function(e){return t.itemClick(a)}}},[t._v(" "+t._s(e.title)+" ")])})),0)},C=[],m={name:"CateBox",props:{category:{type:Array,default:[]}},data:function(){return{currentIndex:0}},computed:{isActive:function(){var t=this;return function(e){return t.currentIndex===e}}},methods:{itemClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("indexChange",t))}},updated:function(){this.$emit("loaded")}},y=m,x=(n("5c9d"),Object(h["a"])(y,b,C,!1,null,"3d2cdcf6",null)),p=x.exports,$=n("1bab");function _(){return Object($["a"])({url:"/category"})}function k(t){return Object($["a"])({url:"/subcategory",params:{maitKey:t}})}var B={name:"Category",components:{Scroll:c["a"],CategoryNavBar:v,CateBox:p,GoodsList:o["a"]},data:function(){return{category:[],currentIndex:0,currentCate:[]}},created:function(){var t=this;_().then((function(e){t.category=e.data.category.list,t.changeCate()}))},mounted:function(){var t=Object(i["a"])(this.$refs.scrollRight.refresh,200);this.$bus.$on("categoryImageLoad",(function(){t()}))},methods:{leftLoaded:function(){this.$refs.scrollLeft.refresh()},indexChange:function(t){this.currentIndex=t,this.changeCate()},changeCate:function(){var t=this;k(this.category[this.currentIndex].maitKey).then((function(e){t.currentCate=e.data.list,t.$refs.scrollRight.backTop()}))}}},I=B,L=(n("78d8"),Object(h["a"])(I,a,r,!1,null,"27eae730",null));e["default"]=L.exports},e2af:function(t,e,n){"use strict";n("2c08")}}]);
//# sourceMappingURL=chunk-6858d0a2.813e2aac.js.map